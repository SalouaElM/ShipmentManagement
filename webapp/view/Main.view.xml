<mvc:View controllerName="ap.shipmentmanagement.controller.Main"
    xmlns="sap.m"
    xmlns:f="sap.f"
	xmlns:mvc="sap.ui.core.mvc" displayBlock="true">
    <Page id="page" title="{i18n>title}">
         <content>
            <Table
                id="shipmentTable"
                items="{/ShipmentSet}"
            >
            <headerToolbar>
				<OverflowToolbar>
					<Title text="Shipments" level="H2"/>
					<ToolbarSpacer/>
					<Button
						tooltip="Sort"
						icon="sap-icon://sort"
						press="handleSortButtonPressed"/>
					<Button
						tooltip="Filter"
						icon="sap-icon://filter"
						press="handleFilterButtonPressed"/>

				</OverflowToolbar>
			</headerToolbar>
                <columns>
                    <Column
                        id="tknumCol"
                        width="12em"
                        
                    >
                        <VBox>
                            <Text text="ShipmentNr" />
                        </VBox>
                    </Column>
                      <Column
                        id="timeinCol"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                        hAlign="End"
                    >
                        <Text text="Time In" />
                    </Column>
                    <Column
                        id="timeoutCol"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                        hAlign="End"
                    >
                        <Text text="Time Out" />
                    </Column>
                    <Column
                        id="complCol"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                        hAlign="End"
                    >
                        <Text text="Completion Time" />
                    </Column>
                    <Column
                        id="statusCol"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                        hAlign="End"
                    >
                        <Text text="Status" />
                    </Column>
                    <Column
                        id="transporteurCol"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                        hAlign="End"
                    >
                        <Text text="Transporteur" />
                    </Column>
                    <Column
                        id="apptimeCol"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                        hAlign="End"
                    >
                        <Text text="App Time" />
                    </Column>
                    <Column
                        id="containerCol"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                        hAlign="End"
                    >
                        <Text text="Container ID" />
                    </Column>
                    <Column
                        id="remarksCol"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                        hAlign="End"
                    >
                        <Text text="Remarks" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem type="Navigation" vAlign="Middle" press=".onListItemPress">
                        <cells>
                           <Button text="{Tknum}"
                                press="onTknumClick"
                                ariaDescribedBy="defaultButtonDescription genericButtonDescription"
                                class="customButton"
                                >
                            <layoutData>
                                <FlexItemData growFactor="1" />
                            </layoutData>
                                </Button>
                            <Text text="{path: 'TimeIn', formatter: '.formatTime'}" class="{= ${Streg} === 'X' ? 'greenBackground' : ''}" />
                            <Text text="{path: 'TimeOut', formatter: '.formatTime'}" />
                            <Text text="{path: 'Uzabf', formatter: '.formatTime'}" />
                            <Button
                                xmlns="sap.m"
                                icon="{
                                    parts: [
                                        { path: 'Stabf' },
                                        { path: 'Stlbg' }
                                    ],
                                    formatter: '.getStatusButton'
                                }" class="iconButton"
                            />
                            <Text text="{Tdlnr}" />
                            <Text text="{path: 'AppTime', formatter: '.formatTime'}" />
                            <Text text="{Signi}" />
                            <Text text="{Remarks}" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </content>
        <!-- Dialog for displaying inplanning details -->
        <Dialog id="inplanningDialog" title="Inplanning Shipment" contentWidth="auto" contentHeight="auto">
            <VBox>
                <Label text="Tknum:"/>
                <Text id="tknumText" />
                <Label text="Time In:" />
                <Text id="timeInText" />
                <Label text="Time Out:" />
                <Text id="timeOutText" />
                <Label text="App Time:" />
                <Text id="appTimeText" />
                <Label text="Remarks:" />
                <Text id="remarksText" />
            </VBox>
            <beginButton>
                <Button text="Close" press=".onCloseInplanningDialog" />
            </beginButton>
        </Dialog>
    </Page>
</mvc:View>
